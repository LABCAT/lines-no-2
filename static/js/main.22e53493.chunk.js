(this["webpackJsonplines-no-2"]=this["webpackJsonplines-no-2"]||[]).push([[0],{18:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),a=n(12),r=n.n(a),o=(n(18),n(2));window.p5=o;n(20);var d=n(13),h=n(0);function u(){return Object(h.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(h.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var c=n(3),l=n(4),g=function(){function e(t,n,i,s,a,r,o,d){var h=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];Object(c.a)(this,e),this.p=t,this.beginX=n,this.beginY=i,this.endX=s,this.endY=a,this.fromColour=this.p.color(o),this.toColour=this.p.color(d),this.distX=this.endX-this.beginX,this.distY=this.endY-this.beginY,this.x=0,this.y=0,this.pointIndex=0,this.canDraw=h,this.setLifeTime(r)}return Object(l.a)(e,[{key:"setLifeTime",value:function(e){var t=this.p.getFrameRate()?this.p.getFrameRate():60;this.totalsFrames=t*e}},{key:"draw",value:function(){if(this.canDraw&&this.pointIndex<1){var e=this.p.lerpColor(this.fromColour,this.toColour,this.pointIndex);this.p.fill(e),this.p.noStroke();for(var t=0;t<1e3/this.totalsFrames;t++)this.x=this.beginX+this.pointIndex*this.distX,this.y=this.beginY+this.p.pow(this.pointIndex,4)*this.distY,this.p.ellipse(this.x,this.y,this.p.height/64,this.p.height/64),this.pointIndex+=.001}}}]),e}(),m=function(){function e(t,n,i,s,a,r,o,d){var h=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];Object(c.a)(this,e),this.p=t,this.beginX=n,this.beginY=i,this.endX=s,this.endY=a,this.fromColour=this.p.color(o),this.toColour=this.p.color(d),this.distX=this.endX-this.beginX,this.distY=this.endY-this.beginY,this.x=0,this.y=0,this.pointIndex=0,this.canDraw=h,this.setLifeTime(r)}return Object(l.a)(e,[{key:"setLifeTime",value:function(e){var t=this.p.getFrameRate()?this.p.getFrameRate():60;this.totalsFrames=t*e,this.currentFrame=1}},{key:"draw",value:function(){if(this.canDraw&&this.pointIndex<1){var e=this.p.lerpColor(this.fromColour,this.toColour,this.pointIndex),t=this.currentFrame%2?100:0;e.setAlpha(t),this.p.fill(e),this.p.noStroke();for(var n=0;n<1e3/this.totalsFrames;n++)this.x=this.beginX+this.pointIndex*this.distX,this.y=this.beginY+this.p.pow(this.pointIndex,4)*this.distY,this.p.ellipse(this.x,this.y,this.p.height/64,this.p.height/64),this.pointIndex+=.001;this.currentFrame++}}}]),e}(),p=n.p+"static/media/lines-no-2.9c655af5.ogg",f=n.p+"static/media/lines-no-2.33ebf3bc.mid",v=function(){var e=Object(i.useRef)(),t=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.player=null,e.PPQ=15360,e.tempo=101,e.barAsSeconds=60/e.tempo*4,e.grid=[],e.randomColours=[],e.loadMidi=function(){d.Midi.fromUrl(f).then((function(t){console.log(t);var n=t.tracks[3].notes,i=t.tracks[3].notes;e.scheduleCueSet(n,"executeCueSet1"),e.scheduleCueSet(i,"executeCueSet2"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=function(){e.song=e.loadSound(p,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,n){for(var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=-1,a=1,r=0;r<t.length;r++){var o=t[r],d=o.ticks,h=o.time;(d!==s||i)&&(o.currentCue=a,e.song.addCue(h,e[n],o),s=d,a++)}},e.animatedLinesDrawings1=[],e.animatedLinesDrawings2=[],e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.background(0),e.rectMode(e.CENTER);var t=n(7);e.randomColours=t({luminosity:"bright",format:"rgb",count:15})},e.draw=function(){if(e.audioLoaded&&e.song.isPlaying()){for(var t=0;t<e.animatedLinesDrawings1.length;t++){var n=e.animatedLinesDrawings1[t],i=n.scale,s=n.translateX,a=n.translateY,r=n.lines;e.push(),e.translate(s,a),e.scale(i);for(var o=0;o<r.length;o++){r[o].draw()}e.translate(-s,-a),e.pop()}for(var d=0;d<e.animatedLinesDrawings2.length;d++){var h=e.animatedLinesDrawings2[d],u=h.scale,c=h.translateX,l=h.translateY,g=h.lines;e.push(),e.translate(c,l),e.scale(u);for(var m=0;m<g.length;m++){g[m].draw()}e.translate(-c,-l),e.pop()}}},e.beginX=0,e.beginY=0,e.endX=0,e.endY=0,e.currentIndex=0,e.executeCueSet1=function(t){var i=t.currentCue;if(i%15===1){var s=n(7);e.randomColours=s({luminosity:"bright",format:"rgb",count:15}),i>1&&e.currentIndex++,e.currentCell=e.grid[e.currentIndex%4],e.beginX=e.random(0,e.width),e.beginY=e.random(0,e.height)}"undefined"===typeof e.animatedLinesDrawings1[e.currentIndex]&&(e.animatedLinesDrawings1[e.currentIndex]={scale:e.random(.05,.2),translateX:e.random(0,e.width-e.width/4),translateY:e.random(0,e.height-e.height/4),lines:[]}),e.endX=e.random(0,e.width),e.endY=e.random(0,e.height),e.animatedLinesDrawings1[e.currentIndex].lines.push(new g(e,e.beginX,e.beginY,e.endX,e.endY,t.duration,e.randomColours[t.currentCue%15],e.randomColours[t.currentCue%15===14?0:t.currentCue%15+1])),e.beginX=e.endX,e.beginY=e.endY},e.randomColours2=[],e.beginX2=0,e.beginY2=0,e.endX2=0,e.endY2=0,e.currentIndex2=0,e.executeCueSet2=function(t){var i=t.currentCue;if(i>90){if(i%15===1){var s=n(7);e.randomColours2=s({luminosity:"bright",format:"rgb",count:15}),i>91&&e.currentIndex2++,e.currentCell=e.grid[e.currentIndex2%4],e.beginX2=e.random(0,e.width),e.beginY2=e.random(0,e.height)}"undefined"===typeof e.animatedLinesDrawings2[e.currentIndex2]&&(e.animatedLinesDrawings2[e.currentIndex2]={scale:e.random(.2,.4),translateX:e.random(0,e.width-e.width/4),translateY:e.random(0,e.height-e.height/4),lines:[]}),e.endX2=e.random(0,e.width),e.endY2=e.random(0,e.height),e.animatedLinesDrawings2[e.currentIndex2].lines.push(new m(e,e.beginX2,e.beginY2,e.endX2,e.endY2,t.duration,e.randomColours2[t.currentCue%15],e.randomColours2[t.currentCue%15===14?0:t.currentCue%15+1])),e.beginX2=e.endX2,e.beginY2=e.endY2}},e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&e.reset(),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play()))},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=function(){},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(i.useEffect)((function(){new o(t,e.current)}),[]),Object(h.jsx)("div",{ref:e,children:Object(h.jsx)(u,{})})};var w=function(){return Object(h.jsx)(v,{})};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.22e53493.chunk.js.map